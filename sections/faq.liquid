<style>
.faq[data-shopify-id='{{ section.id }}'] {
  width: 100%;
  margin: {{ section.settings.top_spacing }}px auto {{ section.settings.bottom_spacing }}px;
  padding: 2rem 2rem;
  box-sizing: border-box;
  background-color: {{ section.settings.background_color }};
}

.faq[data-shopify-id='{{ section.id }}'] .faq__title {
  font-size: {{ section.settings.title_size_desktop }}px;
  font-weight: 500;
  color: {{ section.settings.title_color }};
  max-width: 1800px;
  margin: 0 auto;
}

.faq[data-shopify-id='{{ section.id }}'] .faq__list {
  display: flex;
  flex-direction: column;
  gap: 0;
  width: 100%;
  max-width: 1800px;
  margin: 0 auto;
}

.faq[data-shopify-id='{{ section.id }}'] .faq__item {
  border-top: 1px solid {{ section.settings.border_color }};
  padding: 1.5rem 0;
}

.faq[data-shopify-id='{{ section.id }}'] .faq__question {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  text-align: left;
  color: {{ section.settings.question_color }};
  font-size: {{ section.settings.question_size_desktop }}px;
}

.faq[data-shopify-id='{{ section.id }}'] .faq__question-text {
  font-weight: 500;
  padding-right: 2rem;
}

.faq[data-shopify-id='{{ section.id }}'] .faq__toggle {
  font-size: 1.5em;
  line-height: 1;
  transition: transform 0.3s ease;
}

.faq[data-shopify-id='{{ section.id }}'] .faq__answer {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease-out;
  color: {{ section.settings.answer_color }};
  font-size: {{ section.settings.answer_size_desktop }}px;
  line-height: 1.5;
}

.faq[data-shopify-id='{{ section.id }}'] .faq__answer-text {
  padding-top: 1rem;
  padding-right: 2rem;
}

.faq[data-shopify-id='{{ section.id }}'] .faq__item.is-active .faq__toggle {
  transform: rotate(45deg);
}

@media screen and (max-width: 768px) {

    .faq[data-shopify-id='{{ section.id }}'] {
        margin: {{ section.settings.top_spacing_mobile }}px auto {{ section.settings.bottom_spacing_mobile }}px;
    }

  .faq[data-shopify-id='{{ section.id }}'] .faq__title {
    font-size: {{ section.settings.title_size_mobile }}px;
  }
  
  .faq[data-shopify-id='{{ section.id }}'] .faq__question {
    font-size: {{ section.settings.question_size_mobile }}px;
  }
  
  .faq[data-shopify-id='{{ section.id }}'] .faq__answer {
    font-size: {{ section.settings.answer_size_mobile }}px;
  }
}
</style>

<div class="faq" data-shopify-id="{{ section.id }}">
  {% if section.settings.title != blank %}
    <h2 class="faq__title">{{ section.settings.title }}</h2>
  {% endif %}
  
  <div class="faq__list">
    {%- for block in section.blocks -%}
      <div class="faq__item" {{ block.shopify_attributes }}>
        <button class="faq__question" aria-expanded="false">
          <span class="faq__question-text">{{ block.settings.question }}</span>
          <span class="faq__toggle">+</span>
        </button>
        <div class="faq__answer">
          <div class="faq__answer-text">{{ block.settings.answer }}</div>
        </div>
      </div>
    {%- endfor -%}
  </div>
</div>


{% schema %}
    {
      "name": "FAQ",
      "settings": [
        {
          "type": "header",
          "content": "Content & Data"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Section Title",
          "default": "F.A.Q"
        },    
        {
          "type": "header",
          "content": "Typography"
        },
        {
          "type": "range",
          "id": "title_size_desktop",
          "min": 16,
          "max": 50,
          "step": 1,
          "unit": "px",
          "label": "Title Size - Desktop",
          "default": 24
        },
        {
          "type": "range",
          "id": "question_size_desktop",
          "min": 12,
          "max": 24,
          "step": 1,
          "unit": "px",
          "label": "Question Size - Desktop",
          "default": 14
        },
        {
          "type": "range",
          "id": "answer_size_desktop",
          "min": 12,
          "max": 24,
          "step": 1,
          "unit": "px",
          "label": "Answer Size - Desktop",
          "default": 14
        },
        {
          "type": "range",
          "id": "title_size_mobile",
          "min": 14,
          "max": 30,
          "step": 1,
          "unit": "px",
          "label": "Title Size - Mobile",
          "default": 20
        },
        {
          "type": "range",
          "id": "question_size_mobile",
          "min": 12,
          "max": 20,
          "step": 1,
          "unit": "px",
          "label": "Question Size - Mobile",
          "default": 13
        },
        {
          "type": "range",
          "id": "answer_size_mobile",
          "min": 12,
          "max": 20,
          "step": 1,
          "unit": "px",
          "label": "Answer Size - Mobile",
          "default": 13
        },
    
        {
          "type": "header",
          "content": "Colors"
        },
        {
          "type": "color",
          "id": "background_color",
          "label": "Background Color",
          "default": "transparent"
        },
        {
          "type": "color",
          "id": "title_color",
          "label": "Title Color",
          "default": "#000000"
        },
        {
          "type": "color",
          "id": "question_color",
          "label": "Question Color",
          "default": "#000000"
        },
        {
          "type": "color",
          "id": "answer_color",
          "label": "Answer Color",
          "default": "#666666"
        },
        {
          "type": "color",
          "id": "border_color",
          "label": "Border Color",
          "default": "#e5e5e5"
        },
        {
          "type": "header",
          "content": "Spacing"
        },
        {
          "type": "range",
          "id": "top_spacing",
          "min": 0,
          "max": 200,
          "step": 2,
          "unit": "px",
          "label": "Top Spacing (Desktop)",
          "default": 20
        },
        {
          "type": "range",
          "id": "bottom_spacing",
          "min": 0,
          "max": 200,
          "step": 2,
          "unit": "px",
          "label": "Bottom Spacing (Desktop)",
          "default": 20
        },
        {
          "type": "range",
          "id": "top_spacing_mobile",
          "min": 0,
          "max": 200,
          "step": 2,
          "unit": "px",
          "label": "Top Spacing (Mobile)",
          "default": 20
        },
        {
          "type": "range",
          "id": "bottom_spacing_mobile",
          "min": 0,
          "max": 200,
          "step": 2,
          "unit": "px",
          "label": "Bottom Spacing (Mobile)",
          "default": 20
        }
      ],
      "blocks": [
        {
          "type": "faq",
          "name": "FAQ Item",
          "settings": [
            {
              "type": "text",
              "id": "question",
              "label": "Question",
              "default": "What is your question?"
            },
            {
              "type": "textarea",
              "id": "answer",
              "label": "Answer",
              "default": "Provide the answer to your question here."
            }
          ]
        }
      ],
      "presets": [
        {
          "name": "FAQ",
          "blocks": [
            {
              "type": "faq"
            },
            {
              "type": "faq"
            },
            {
              "type": "faq"
            }
          ]
        }
      ]
    }
    {% endschema %}
